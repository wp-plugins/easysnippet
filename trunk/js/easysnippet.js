(function(c){var C,d=0,f=0,h=false,z=1,i,D,j=-1;var n,u,v,k,E,a,A,F,e="RSTRetrieving";var B=".RSTGoogleResult",l=/^RSTPost_([0-9]+)$/;function m(L){var K,I,H,G,J=c.parseJSON(L);if(J.length===0){a.hide();A.hide();F.show();E.hide();return}C=[];for(I=0;I<J.length;I++){G=J[I];C.push(H=u.clone());K=c("h3 a",H);K.html(G.postTitle);K.attr("href",G.postURL);H.attr("id","RSTPost_"+G.ID);if(I%2===1){H.css("background-color","#eaffff")}v.append(H)}f=G.ID;d=0;if(d<C.length){G=C[d];c(B,G).text("");c(B,G).addClass(e)}n()}function s(H){var G=1}function t(){if(h){return}c.ajax({url:RICHSNIPPET.ajaxURL,type:"POST",data:{action:"snippetget",seq:i,last:f},success:m,error:s})}function g(I){var H,N,L,O=c.parseJSON(I);L=c(O.html);var M=L.find("#richsnippets-result");var G=L.find("#richsnippets-errors");var K=c("#"+O.id);var J=c(B,K);J.removeClass("RSTUnprocessed");J.removeClass(e);if(M.length!==0){J.html(M.html());c(".RSTPostTitle",K).hide()}else{J.html(G.html())}d++;if(d<C.length){N=C[d];c(B,N).text("");c(B,N).addClass(e);if(h){return}j=setTimeout(n,D);return}z++;H="RSTTab_"+z;v=c('<div id="'+H+'" class="RSTPosts">');k.append(v);k.tabs("add","#"+H,z);k.tabs("select",z-1);if(h){return}t()}function o(){var G,I,H;if(h){return}if(d>=C.length){t();return}H=C[d];G=c("a",H).attr("href");I=H.attr("id");c.ajax({url:RICHSNIPPET.ajaxURL,type:"POST",data:{action:"snippettest",url:G,id:I},success:g,error:s})}function b(){var H,I,G=k.tabs("length");E.hide();A.hide();F.hide();a.show();for(H=0;H<G;H++){k.tabs("remove",0)}d=0;f=0;z=1;I="RSTTab_"+z;v=c('<div id="'+I+'" class="RSTPosts">');k.append(v);k.tabs("add","#"+I,z);k.tabs("select",z-1);h=false;i=c("#inpRSTSequence").val();D=c("#inpRSTDelay").val()*1000;t()}function q(){clearTimeout(j);h=true;a.hide();A.show();F.show();c(".RSTPosts .RSTPost .RSTRetrieving").each(function(){c(this).removeClass(e)})}function r(){E.hide();A.hide();F.hide();a.show();h=false;o()}function p(){var H,G,I,K,J=c(this);K=J.parentsUntil(".RSTPosts",".RSTPost");H=l.exec(K.attr("id"));I=(H!==null)?H[1]:0;G=c("h3 a",K).attr("href");if(J.hasClass("RSTBtnEdit")){window.open("/wp-admin/post.php?post="+I+"&action=edit")}else{if(J.hasClass("RSTBtnShow")){window.open(G)}else{if(J.hasClass("RSTBtnGoogle")){window.open("http://www.google.com/webmasters/tools/richsnippets?url="+encodeURIComponent(G))}}}}function y(){c(".RSTOverlay",this).show()}function x(){c(".RSTOverlay",this).hide()}function w(){k=c("#divRSTTabs");k.tabs({selected:0});v=c(".RSTPosts");u=c(".divRSTPostHTML .RSTPost");c("button",u).button();E=c("#divRSTContainer .btnStart");a=c("#divRSTContainer .btnStop");A=c("#divRSTContainer .btnContinue");F=c("#divRSTContainer .btnReRun");E.click(b);a.click(q);A.click(r);F.click(b);k.on("mouseover",".RSTPost",y);k.on("mouseout",".RSTPost",x);k.on("click",".RSTBtn",p);n=o}c(w)}(jQuery));